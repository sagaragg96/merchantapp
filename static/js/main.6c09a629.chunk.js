(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){e.exports=a(214)},170:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(42),s=a.n(r),c=(a(170),a(163)),l=a(35),o=a(34),d=a(75),m=a(76),p=a(77),h=a(80),u=a(78),E=a(81),v=a(48),f=a(162),y=(a(211),a(212),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={id:"",name:"",description:"",status:"",history:[]},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={};t.timestamp=new Date+"",t.old="New Merchant Created",t.new="Merchant Name: "+a.state.name+", Description: "+a.state.description+", Status: "+a.state.status,console.log("History Object : ",t);var n=a.props.merchants.length+1;a.setState({id:n,history:[t]}),setTimeout(function(){a.props.dispatch({type:"ADD_MERCHANT",payload:a.state}),console.log("Redux State is : ",a.props.merchants)},1e3)},a.viewCellRendererFunc=function(e){var t=document.createElement("button");t.classList.add("butn"),t.classList.add("red"),t.classList.add("lighten-1"),t.classList.add("z-depth-0"),t.innerHTML="Edit",t.setAttribute("href","#modal1"),t.addEventListener("click",function(){a.props.history.push({pathname:"/editMerchant",state:{id:e.data.id}})});var n=document.createElement("button");n.classList.add("butn"),n.classList.add("red"),n.classList.add("lighten-1"),n.classList.add("z-depth-0"),n.innerHTML="Delete",n.addEventListener("click",function(){a.handleDelete(e.data.id)});var i=document.createElement("button");i.classList.add("butn"),i.classList.add("red"),i.classList.add("lighten-1"),i.classList.add("z-depth-0"),i.innerHTML="Activate/Deactivate",i.addEventListener("click",function(){a.handleStatus(e.data.id)});var r=document.createElement("div");return r.appendChild(t),r.appendChild(n),r.appendChild(i),r},a.handleDelete=function(e){a.props.dispatch({type:"DELETE_MERCHANT",id:e})},a.handleStatus=function(e){var t={};t.timestamp=new Date+"",t.old="Status: "+a.props.merchants[e-1].status;var n="";n="Active"==a.props.merchants[e-1].status?"Inactive":"Active",t.new="Status: "+n,a.setState({id:e,name:a.props.merchants[e-1].name,status:n,description:a.props.merchants[e-1].description,history:[].concat(Object(o.a)(a.props.merchants[e-1].history),[t])}),a.props.dispatch({type:"UPDATE_MERCHANT_STATUS",payload:a.state})},a.handleRowClick=function(e){a.props.history.push({pathname:"/merchantHistory",state:{history:Object(o.a)(e.data.history)}})},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=[{headerName:"Merchant Name",field:"name",filter:!0},{headerName:"Description",field:"description",autoHeight:!0,filter:!0},{headerName:"Status",field:"status",filter:!0},{headerName:"Action",field:"id",cellRenderer:this.viewCellRendererFunc,width:300,autoHeight:!0}],t=this.props.merchants;return i.a.createElement("div",null,i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},i.a.createElement("h5",{className:"grey-text text-darken-3"},"Add Merchant"),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{className:"active",htmlFor:"name"},"Merchant Name"),i.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{className:"active",htmlFor:"description"},"Description"),i.a.createElement("textarea",{id:"description",className:"materialize-textarea",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{className:"active",htmlFor:"status"},"Status"),i.a.createElement("textarea",{id:"status",className:"materialize-textarea",onChange:this.handleChange})),i.a.createElement("div",{className:"input-field"},i.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Add")))),i.a.createElement("div",{className:"ag-theme-balham",style:{margin:"auto",height:"363px",width:"900px"}},i.a.createElement(f.AgGridReact,{columnDefs:e,rowData:t,rowHeight:"275",rowSelection:!0,onRowClicked:this.handleRowClick,pagination:!0,paginationPageSize:"10"})))}}]),t}(n.Component)),b=Object(v.b)(function(e){return{merchants:e}})(y),N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={id:a.props.merchant[a.props.location.state.id-1].id,name:a.props.merchant[a.props.location.state.id-1].name,description:a.props.merchant[a.props.location.state.id-1].description,status:a.props.merchant[a.props.location.state.id-1].status,history:a.props.merchant[a.props.location.state.id-1].history},a.handleSubmit=function(e){e.preventDefault();var t={};t.timestamp=new Date+"",t.old="Name: "+a.state.name+", Description: "+a.state.description,t.new="Name: "+a.getName.value+", Description: "+a.getDesc.value,a.setState({name:a.getName.value,description:a.getDesc.value,history:[].concat(Object(o.a)(a.state.history),[t])}),setTimeout(function(){a.props.dispatch({type:"UPDATE_MERCHANT_DATA",payload:a.state}),a.props.history.push("/")},1e3)},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.state.id-1,a=this.props.merchant[t];return console.log("Data : ",a),i.a.createElement("div",{className:"container"},i.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},i.a.createElement("h5",{className:"grey-text text-darken-3"},"Edit Merchant"),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{className:"active",htmlFor:"name"},"Merchant Name"),i.a.createElement("input",{type:"text",id:"name",defaultValue:a.name,ref:function(t){return e.getName=t}})),i.a.createElement("div",{className:"input-field"},i.a.createElement("label",{className:"active",htmlFor:"description"},"Description"),i.a.createElement("textarea",{id:"description",className:"materialize-textarea",defaultValue:a.description,ref:function(t){return e.getDesc=t}})),i.a.createElement("div",{className:"input-field"},i.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Update"))))}}]),t}(n.Component),g=Object(v.b)(function(e){return{merchant:e}})(N),w=function(e){var t=e.location.state.history;return console.log(t),i.a.createElement("div",{className:"project-list section"},i.a.createElement("h5",{className:"grey-text text-darken-3"},"Merchant History"),t&&t.map(function(e){return i.a.createElement("div",{className:"card-content black-text text-darken-3",style:{marginLeft:"30px"},key:e},i.a.createElement("p",{key:e.old},"Old Data : ",e.old),i.a.createElement("p",{key:e.new},"Modified Data : ",e.new),i.a.createElement("p",{key:e.timestamp},e.timestamp),i.a.createElement("p",null,"--------------------------------------------------------------------"))}))};var D=function(){return i.a.createElement(c.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(l.c,null,i.a.createElement(l.a,{exact:!0,path:"/",component:b}),i.a.createElement(l.a,{path:"/editMerchant",component:g}),i.a.createElement(l.a,{path:"/merchantHistory",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(79),C=a(117),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MERCHANT":return e.concat([t.payload]);case"DELETE_MERCHANT":return e.filter(function(e){return e.id!==t.id});case"UPDATE_MERCHANT_DATA":return e.map(function(e){return e.id===t.payload.id?Object(C.a)({},e,{name:t.payload.name,description:t.payload.description,history:Object(o.a)(t.payload.history)}):e});case"UPDATE_MERCHANT_STATUS":return e.map(function(e){return e.id===t.payload.id?Object(C.a)({},e,{status:t.payload.status,history:Object(o.a)(t.payload.history)}):e});default:return e}},S=Object(A.b)(T);s.a.render(i.a.createElement(v.a,{store:S},i.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,1,2]]]);
//# sourceMappingURL=main.6c09a629.chunk.js.map